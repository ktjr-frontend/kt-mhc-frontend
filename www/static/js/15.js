webpackJsonp([15],{"2xEa":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),i=a.n(l),n=a("Xxa5"),s=a.n(n),r=a("exGp"),o=a.n(r),u=a("I8NT"),c=a("3dbI"),d=a("M4fF");a.n(d);t.default={mixins:[u.a],mounted:function(){var e=this;return o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.updateContainerHeight(),e.search();case 2:case"end":return t.stop()}},t,e)}))()},created:function(){this.filter=i()({},this.filter,this.$route.query),this._fetchData()},methods:{updateContainerHeight:function(){var e=this,t=0,a=0,l=this.$root.$children[0];this.$nextTick(function(){t=e.$refs.navBar.$el.getBoundingClientRect().height,l.headerShow&&(a=l.$refs.header.$el.getBoundingClientRect().height),e.$refs.tabContainer.$el.style.height=window.innerHeight-t-a+"px"})},showVehicleInfo:function(e){this.$router.push({name:"wayBillVehicles",params:{id:e.id}})},showWayBillDetail:function(e){this.$router.push({name:"wayBillDetail",params:{id:e.id}})},loadMore:a.i(d.debounce)(function(){this._fetchData(!0)},500),search:function(){this.noMoreData=!1,this.$router.replace({name:this.$route.name,query:i()({},this.filter,{page:1})})},_fetchData:function(e){var t=this;return o()(s.a.mark(function a(){var l;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.filter.page=e?+t.filter.page+1:1,t.loading=!0,"0"===t.filter.status&&(t.filter.status=null),a.next=5,c.m.get(t.pruneParams(t.filter)).then(function(e){return e.json()}).catch(function(e){throw t.loading=!1,e});case 5:l=a.sent,t.wayBillList=e?t.wayBillList.concat(l.data.data):l.data.data,l.data.data.length?t.loading=!1:(t.loading=!0,t.wayBillList.length&&(t.noMoreData=!0));case 8:case"end":return a.stop()}},a,t)}))()}},watch:{tabActive:function(){"0"!==this.tabActive?this.filter.status=this.tabActive:this.filter.status=null,this.search()},$route:function(){this._fetchData()}},data:function(){return{filter:{page:1,size:10,status:"0"},loading:!1,noMoreData:!1,wayBillList:[],tabActive:"0"}}}},"8Ybp":function(e,t,a){var l=a("zN2E");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("0c702564",l,!1)},I8NT:function(e,t,a){"use strict";var l=a("M4fF"),i=(a.n(l),a("oiih")),n=[{label:"品牌4s店",value:1},{label:"港口商家",value:2},{label:"综合展厅",value:3},{label:"资源公司",value:4}],s=[{label:"待下单",value:1},{label:"已下单",value:2},{label:"待验车",value:3},{label:"已提车",value:4},{label:"已发运",value:5},{label:"在途中",value:6},{label:"已运抵",value:7},{label:"已完成",value:8},{label:"已作废",value:9}],r=[{label:"待验车",value:1},{label:"待发运",value:2},{label:"在途",value:3},{label:"到达",value:4},{label:"完成",value:5},{label:"失效",value:6}],o=[{label:"大板车",value:1},{label:"救援车",value:2}],u=[{label:"仓库",value:i.e.TO_WAREHOURSE},{label:"到店",value:i.e.TO_SHOP}],c=[{label:"销售主管",value:1},{label:"销售顾问",value:2},{label:"管理员",value:3}],d=[{label:"签章成功",label2:"可提车",value:1},{label:"未签章",label2:"不可提车",value:2}],v=[{label:"未认证",value:"initial"},{label:"已认证",value:"passed"},{label:"审核中",value:"checking"},{label:"认证失败",value:"rejected"}],f=[{label:"未读",value:"1"},{label:"已读",value:"2"}],b=a.i(l.keyBy)(n,"value"),p=a.i(l.keyBy)(s,"value"),h=a.i(l.keyBy)(r,"value"),m=a.i(l.keyBy)(o,"value"),y=a.i(l.keyBy)(u,"value"),w=a.i(l.keyBy)(c,"value"),_=a.i(l.keyBy)(d,"value"),B=a.i(l.keyBy)(v,"value"),g=a.i(l.keyBy)(f,"value");t.a={filters:{companyTypeFormat:function(e){return b[e]?b[e].label:""},wayBillStatusFormat:function(e){return p[e]?p[e].label:""},wayBillVehicleStatusFormat:function(e){return h[e]?h[e].label:""},transportTypeFormat:function(e){return m[e]?m[e].label:""},deliveryTypeFormat:function(e){return y[e]?y[e].label:""},jobTypeFormat:function(e){return w[e]?w[e].label:""},pickCarLetterStatusFormat:function(e){return _[e]?_[e].label:""},pickCarLetterStatusFormat2:function(e){return _[e]?_[e].label2:""},certifyStatusFormat:function(e){return B[e]?B[e].label:""},messageStatusFormat:function(e){return g[e]?g[e].label:""}},methods:{headerClose:function(){this.$router.push({name:"mine"})}},data:function(){return{companyTypeList:n,companyTypeMap:b,wayBillStatusList:s,wayBillStatusMap:p,wayBillVehicleStatusList:r,wayBillVehicleStatusMap:h,transportTypeList:o,transportTypeMap:m,deliveryTypeList:u,deliveryTypeMap:y,jobTypeList:c,jobTypeMap:w,pickCarStatusList:d,pickCarStatusMap:_,certifyStatusList:v,certifyStatusMap:B,messageStatusList:f,messageStatusMap:g}}}},TeNP:function(e,t,a){a("8Ybp");var l=a("VU/8")(a("2xEa"),a("qheG"),"data-v-ba19b88a",null);l.options.__file="/Users/luxueyan/work/kt-mhc-frontend/src/views/mine/WayBills.vue",l.esModule&&Object.keys(l.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),l.options.functional&&console.error("[vue-loader] WayBills.vue: functional components are not supported with templates, they should use render functions."),e.exports=l.exports},qheG:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"way-bill-list"},[a("section",{staticClass:"body"},[a("mt-navbar",{ref:"navBar",model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},[a("mt-tab-item",{attrs:{id:"0"}},[e._v("全部")]),a("mt-tab-item",{attrs:{id:"1"}},[e._v("待付款")]),a("mt-tab-item",{attrs:{id:"2"}},[e._v("进行中")]),a("mt-tab-item",{attrs:{id:"3"}},[e._v("已完成")]),a("mt-tab-item",{attrs:{id:"4"}},[e._v("失效")])],1),a("mt-tab-container",{ref:"tabContainer",staticClass:"overflow-scroll",attrs:{swipeable:!0,"disable-swipe":"disable-swipe"},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},e._l(5,function(t){return a("mt-tab-container-item",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{id:"0",id:t-1+"","infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[a("div",{staticClass:"card-body"},[e.wayBillList.length?e._e():a("div",{staticClass:"no-data"},[a("i",{staticClass:"iconfont icon-car"}),a("p",[e._v("没有订单数据")])]),e._l(e.wayBillList,function(t){return a("kt-card-item",{key:t.number,staticClass:"stress",attrs:{"header-left":t.name,"header-right":e._f("wayBillStatusFormat")(t.status)}},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-row"},[e._v("运单编号："+e._s(t.number))]),a("div",{staticClass:"content-row"},[e._v("订单宝号："+e._s(t.orderNumber))]),a("div",{staticClass:"content-row"},[a("div",{staticClass:"content-left flex-item"},[e._v("车辆数量："+e._s(t.vehicleCount))])]),a("div",{staticClass:"content-row"},e._l(t.detail,function(t){return a("span",{staticClass:"mr10"},[e._v(e._s(t.model)+" "+e._s(e._f("ktCurrency")(t.price,"","元"))+" "+e._s(t.count)+" 辆")])}))]),a("div",{staticClass:"buttons text-right ui-border-t",attrs:{slot:"footer"},slot:"footer"},[a("button",{staticClass:"ui-border-radius",on:{click:function(a){e.showVehicleInfo(t)}}},[e._v("车辆信息")]),a("button",{staticClass:"ui-border-radius warning",on:{click:function(a){e.showWayBillDetail(t)}}},[e._v("运单详情")])])])}),e.noMoreData?a("div",{staticClass:"no-more-data"},[a("small",[e._v("已经到底了")])]):e._e()],2)])}))],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},zN2E:function(e,t,a){t=e.exports=a("FZ+f")(),t.push([e.i,".no-more-data[data-v-ba19b88a]{text-align:center;padding:10px}","",{version:3,sources:["/Users/luxueyan/work/kt-mhc-frontend/src/views/mine/WayBills.vue"],names:[],mappings:"AACA,+BACE,kBAAmB,AACnB,YAAc,CACf",file:"WayBills.vue",sourcesContent:["\n.no-more-data[data-v-ba19b88a] {\n  text-align: center;\n  padding: 10px;\n}\n"],sourceRoot:""}])}});